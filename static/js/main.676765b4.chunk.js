(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo2.ec8c1cc5.png"},function(e,a,t){e.exports=t.p+"static/media/logo-full.99ad7ff7.png"},function(e,a){e.exports="data:image/png;base64,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"},function(e,a,t){e.exports=t(26)},,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(9),c=t.n(s),o=(t(18),t(19),t(7)),l=t(2),i=t(3),d=t(5),m=t(4),u=t(6),p=t(1),h=(t(20),t(10)),g=t.n(h),f=t(11),v=t.n(f),b=function(e){function a(){return Object(l.a)(this,a),Object(d.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this;return this.props.cardDetails&&(e=n.a.createElement("div",{id:"button-return",onClick:function(){return a.props.hideCardDetails()}},n.a.createElement("i",{className:"fas fa-arrow-left"}))),n.a.createElement("nav",{id:"navbar"},n.a.createElement("img",{id:"logo-small",src:g.a,alt:"logo small"}),n.a.createElement("img",{id:"logo-full",src:v.a,alt:"logo full"}),n.a.createElement("div",{className:"labelled-checkbox"},n.a.createElement("div",{className:"label"},"Owned Only:"),n.a.createElement("input",{className:"checkbox",id:"checkbox-hide-owned",type:"checkbox",checked:this.props.hideUnowned,onChange:this.props.onChangeHideUnowned}),n.a.createElement("label",{htmlFor:"checkbox-hide-owned"},n.a.createElement("i",{className:"checkmark fas fa-check"}))),n.a.createElement("div",{className:"labelled-dropdown"},n.a.createElement("div",{className:"label"},"Sort By:"),n.a.createElement("select",{name:"sort",className:"sort-dropdown",value:this.props.sortMode,onChange:this.props.onChangeSortMode},n.a.createElement("option",{value:"number"},"Number"),n.a.createElement("option",{value:"a-z"},"A-Z"),n.a.createElement("option",{value:"z-a"},"Z-A"),n.a.createElement("option",{value:"level"},"Level"),n.a.createElement("option",{value:"atk"},"ATK"),n.a.createElement("option",{value:"def"},"DEF"),n.a.createElement("option",{value:"price"},"Price"))),n.a.createElement("div",{id:"search-area"},n.a.createElement("div",{id:"search-form"},n.a.createElement("input",{id:"search-box",type:"text",placeholder:"Search",autoComplete:"off",onChange:function(e){return a.props.search(e.target.value)}}),n.a.createElement("button",{id:"button-submit",onClick:function(e){return a.props.search(document.getElementById("search-box").value)}},n.a.createElement("i",{className:"fas fa-search"}))),n.a.createElement("button",{id:"button-cancel-search",onClick:function(){return a.props.search("")}},n.a.createElement("i",{className:"fas fa-times"}))),e)}}]),a}(r.Component),E=(t(21),function(e){function a(){return Object(l.a)(this,a),Object(d.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.resultsCount,t=this.props.page,r=Math.ceil(a/this.props.resultsPerPage)-1,s=t*this.props.resultsPerPage,c=s+this.props.pageResultsCount,o=1,l=2,i=3;r>3?t===r?(o=r-1,l=r,i=r+1):t>0&&(o=t,l=t+1,i=t+2):(l=r>0?2:" ",i=r>1?3:" ");if(localStorage.collection){var d=JSON.parse(localStorage.collection);new Date(d.lastUpdated).toLocaleString()}return n.a.createElement("div",{id:"footer"},n.a.createElement("span",{id:"app-info"},"Created by ",n.a.createElement("a",{href:"https://twitter.com/_kianbennett",target:"_blank",rel:"noopener noreferrer"},"@_kianbennett"),n.a.createElement("span",{id:"credit-info"}," | Powered by ",n.a.createElement("a",{href:"https://db.ygoprodeck.com/",target:"_blank",rel:"noopener noreferrer"},"YGOPRODeck"))),n.a.createElement("div",{id:"pagination"},n.a.createElement("span",{id:"results-info"},"Found ",a," cards [showing ",s+1,"-",c,"]"),n.a.createElement("button",{id:"page-first",className:"button-page-nav",onClick:function(){return e.props.firstPage()},disabled:0===this.props.page||null},n.a.createElement("span",{className:"fas fa-angle-double-left"})),n.a.createElement("button",{id:"page-prev",className:"button-page-nav",onClick:function(){return e.props.prevPage()},disabled:0===this.props.page||null},n.a.createElement("span",{className:"fas fa-caret-left"})),n.a.createElement("div",{className:"page-buttons"},n.a.createElement("button",{id:"page-1",className:"button-page"+(0===t?" button-page-active":"")},o),n.a.createElement("button",{id:"page-2",className:"button-page"+(t>0&&(1===r||t<r)?" button-page-active":"")},l),n.a.createElement("button",{id:"page-3",className:"button-page"+(t===r&&r>1?" button-page-active":"")},i)),n.a.createElement("button",{id:"page-next",className:"button-page-nav",onClick:function(){return e.props.nextPage()},disabled:this.props.page===r||null},n.a.createElement("span",{className:"fas fa-caret-right"})),n.a.createElement("button",{id:"page-last",className:"button-page-nav",onClick:function(){return e.props.lastPage()},disabled:this.props.page===r||null},n.a.createElement("span",{className:"fas fa-angle-double-right"}))))}}]),a}(r.Component)),C=(t(22),function(e){function a(){return Object(l.a)(this,a),Object(d.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"handleCardClick",value:function(e){this.props.showCardDetails(e)}},{key:"getCardCount",value:function(e){var a=0;if(localStorage.collection){var t=JSON.parse(localStorage.collection);if(t.cards[e.id])for(var r in t.cards[e.id])for(var n in t.cards[e.id][r])a+=t.cards[e.id][r][n]}return a}},{key:"renderCardContainer",value:function(e,a){var t,r=this,s=this.getCardCount(e);return s>0&&(t=n.a.createElement("div",{className:"count"},s)),n.a.createElement("div",{className:"card-container",onClick:function(){return r.handleCardClick(e)},key:0===e.id?a:e.id},n.a.createElement("img",{src:e.card_images[0].image_url,alt:"card_image"}),n.a.createElement("div",{className:"label"},e.name),t)}},{key:"renderCardContainerEmpty",value:function(e){return n.a.createElement("div",{className:"card-container-empty",key:e})}},{key:"render",value:function(){for(var e=[],a=this.props.resultsPerPage,t=this.props.pageResults,r=0;r<a;r++)r<t.length?e.push(this.renderCardContainer(t[r],r)):e.push(this.renderCardContainerEmpty(r));return n.a.createElement("div",{className:"content"},n.a.createElement("div",{id:"card-area"},e))}}]),a}(r.Component)),k=(t(23),t(24),t(12)),N=t.n(k),y=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2}),w=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(d.a)(this,Object(m.a)(a).call(this,e))).nextImage=t.nextImage.bind(Object(p.a)(Object(p.a)(t))),t.prevImage=t.prevImage.bind(Object(p.a)(Object(p.a)(t))),t.state={imageNumber:0,collectionInfo:{}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({imageNumber:0,collectionInfo:this.getCardCollectionInfo(this.props.card)})}},{key:"getCardCollectionInfo",value:function(e){if(localStorage.collection)return JSON.parse(localStorage.collection).cards[e.id]}},{key:"nextImage",value:function(){var e=this.state.imageNumber+1;e>this.props.card.card_images.length-1&&(e=0),this.setState({imageNumber:e})}},{key:"prevImage",value:function(){var e=this.state.imageNumber-1;e<0&&(e=this.props.card.card_images.length-1),this.setState({imageNumber:e})}},{key:"addCardToCollection",value:function(e,a,t,r,n){this.props.addCardToCollection(e,a,t,r,n),this.setState({collectionInfo:this.getCardCollectionInfo(this.props.card)})}},{key:"removeCardFromCollection",value:function(e,a,t,r){this.props.removeCardFromCollection(e,a,t,r),this.setState({collectionInfo:this.getCardCollectionInfo(this.props.card)})}},{key:"changeCondition",value:function(e,a,t,r,n){this.props.removeCardFromCollection(e,a,t,n),this.props.addCardToCollection(e,a,r,n),this.setState({collectionInfo:this.getCardCollectionInfo(this.props.card)})}},{key:"renderSetRow",value:function(e,a,t){var r=this,s="https://shop.tcgplayer.com/yugioh/"+e.set_name.replace(":","")+"/"+this.props.card.name;return n.a.createElement("div",{className:"table-row",key:e.set_code+t},n.a.createElement("span",null,e.set_code),n.a.createElement("span",{onClick:function(){return r.props.search("set: "+e.set_name)}},e.set_name),n.a.createElement("span",null,e.set_rarity),n.a.createElement("span",null,n.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("span",{className:"currency"},"$"),y.format(e.set_price).replace("US$",""))),n.a.createElement("span",null,a," ",n.a.createElement("span",{className:"button-add",onClick:function(){return r.addCardToCollection(r.props.card,e,"nm",1,!0)}},"+")))}},{key:"renderConditionRow",value:function(e,a,t,r){var s=this;return n.a.createElement("div",{className:"table-row-condition",key:r},n.a.createElement("select",{name:"condition",className:"condition-select",value:a,onChange:function(r){return s.changeCondition(s.props.card,e,a,r.target.value,t)}},n.a.createElement("option",{value:"nm"},"NM"),n.a.createElement("option",{value:"lp"},"LP"),n.a.createElement("option",{value:"mp"},"MP"),n.a.createElement("option",{value:"hp"},"HP"),n.a.createElement("option",{value:"dmg"},"DMG")),n.a.createElement("span",{className:"count"},t),n.a.createElement("span",{className:"buttons"},n.a.createElement("span",{className:"button-add",onClick:function(){return s.addCardToCollection(s.props.card,e,a,1)}},"+"),n.a.createElement("span",{className:"button-remove",onClick:function(){return s.removeCardFromCollection(s.props.card,e,a,1)}},"-")))}},{key:"renderCardDesc",value:function(e){for(var a=this,t=e.split('"'),r=function(e){var r=t[e];t[e]=n.a.createElement("span",{key:e},'"',n.a.createElement("span",{className:"card-link",onClick:function(){return a.props.search(r)}},t[e]),'"')},s=1;s<t.length;s+=2)r(s);return"Normal Monster"===this.props.card.type?n.a.createElement("i",null,t):t}},{key:"render",value:function(){var e=this,a=this.props.card,t=this.state.collectionInfo,r=[];if(void 0!==a.card_sets)for(var s=0;s<a.card_sets.length;s++){var c=0;if(void 0!==t&&t[a.card_sets[s].set_code])for(var o in t[a.card_sets[s].set_code])c+=t[a.card_sets[s].set_code][o];if(r.push(this.renderSetRow(a.card_sets[s],c,s)),void 0!==t&&t[a.card_sets[s].set_code])for(var l in t[a.card_sets[s].set_code])r.push(this.renderConditionRow(a.card_sets[s],l,t[a.card_sets[s].set_code][l],s+l))}return n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"card-info"},n.a.createElement("div",{className:"gallery-area"},n.a.createElement("img",{src:a.card_images[this.state.imageNumber].image_url,className:"card-image",alt:"card"}),n.a.createElement("div",{className:"gallery-nav"},n.a.createElement("button",{id:"gallery-prev",className:"button-gallery-nav",onClick:function(){return e.prevImage()}},n.a.createElement("span",{className:"fas fa-caret-left"})),n.a.createElement("span",{id:"gallery-info"},this.state.imageNumber+1+" / "+a.card_images.length),n.a.createElement("button",{id:"gallery-prev",className:"button-gallery-nav",onClick:function(){return e.nextImage()}},n.a.createElement("span",{className:"fas fa-caret-right"})))),n.a.createElement("div",{className:"card-data"},n.a.createElement("div",{id:"card-data-details"},n.a.createElement("span",{id:"card-data-name"},a.name),n.a.createElement("div",{id:"card-data-stats"},n.a.createElement("span",null,n.a.createElement("span",{className:"stat-label"},"TYPE:"),n.a.createElement("span",{className:"stat-value-link",onClick:function(){return e.props.search("type: "+a.race)}},a.race)),n.a.createElement("span",null,n.a.createElement("span",{className:"stat-label"},"ARCHETYPE:"),n.a.createElement("span",{className:"stat-value-link",onClick:function(){return e.props.search("archetype: "+a.archetype)}},a.archetype)),n.a.createElement("span",null,n.a.createElement("span",{className:"stat-label"},"Number:"),n.a.createElement("span",{className:"stat-value"},a.id)))),n.a.createElement("div",{id:"card-data-buttons"},n.a.createElement("a",{className:"card-data-link",href:"https://yugipedia.com/wiki/"+a.name,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:N.a,alt:"wiki-icon"})," Wiki"),n.a.createElement("a",{className:"card-data-link",href:"https://yugipedia.com/wiki/Card_Tips:"+a.name,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"far fa-thumbs-up"})," Tips"),n.a.createElement("a",{className:"card-data-link",href:"https://yugipedia.com/wiki/Card_Trivia:"+a.name,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"far fa-lightbulb"})," Trivia"),n.a.createElement("a",{className:"card-data-link",href:"https://yugipedia.com/wiki/Card_Errata:"+a.name,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fas fa-edit"})," Errata"),n.a.createElement("a",{className:"card-data-link",href:"https://yugipedia.com/wiki/Card_Rulings:"+a.name,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fas fa-ruler"})," Rulings")),n.a.createElement("div",{id:"card-data-desc"},this.renderCardDesc(a.desc)))),n.a.createElement("div",{id:"set-container"},n.a.createElement("div",{className:"header"},n.a.createElement("span",null,"Number"),n.a.createElement("span",null,"Name"),n.a.createElement("span",null,"Rarity"),n.a.createElement("span",null,"Price"),n.a.createElement("span",null,"Owned")),n.a.createElement("div",{className:"table-contents"},r))))}}]),a}(r.Component),O=(t(25),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(d.a)(this,Object(m.a)(a).call(this,e))).onChangeHideUnowned=function(e){t.setState({hideUnowned:e.target.checked},function(){return t.search(document.getElementById("search-box").value)})},t.onChangeSortMode=function(e){t.setState({sortMode:e.target.value},function(){return t.search(document.getElementById("search-box").value)})},t.addCardToCollection=t.addCardToCollection.bind(Object(p.a)(Object(p.a)(t))),t.removeCardFromCollection=t.removeCardFromCollection.bind(Object(p.a)(Object(p.a)(t))),t.showCardDetails=t.showCardDetails.bind(Object(p.a)(Object(p.a)(t))),t.hideCardDetails=t.hideCardDetails.bind(Object(p.a)(Object(p.a)(t))),t.onChangeHideUnowned=t.onChangeHideUnowned.bind(Object(p.a)(Object(p.a)(t))),t.search=t.search.bind(Object(p.a)(Object(p.a)(t))),t.nextPage=t.nextPage.bind(Object(p.a)(Object(p.a)(t))),t.prevPage=t.prevPage.bind(Object(p.a)(Object(p.a)(t))),t.firstPage=t.firstPage.bind(Object(p.a)(Object(p.a)(t))),t.lastPage=t.lastPage.bind(Object(p.a)(Object(p.a)(t))),t.state={cardDetails:null,cardList:null,resultsPerPage:18,hideUnowned:!1,sortMode:"number",page:0,results:[]},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("Loading database..."),fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php").then(function(e){return e.json()}).then(function(a){e.setState({cardList:a.data}),e.search(""),console.log("Loaded database with "+a.data.length+" cards")})}},{key:"addCardToCollection",value:function(e,a,t,r,n){var s={cards:{}};localStorage.collection&&(s=JSON.parse(localStorage.collection)),s.cards[e.id]||(s.cards[e.id]={}),s.cards[e.id][a.set_code]||(s.cards[e.id][a.set_code]={}),n&&(s.cards[e.id][a.set_code].nm?s.cards[e.id][a.set_code].lp?s.cards[e.id][a.set_code].mp?s.cards[e.id][a.set_code].hp?s.cards[e.id][a.set_code].dmg||(t="dmg"):t="hp":t="mp":t="lp":t="nm"),s.cards[e.id][a.set_code][t]||(s.cards[e.id][a.set_code][t]=0),s.cards[e.id][a.set_code][t]+=r,localStorage.collection=JSON.stringify(s)}},{key:"removeCardFromCollection",value:function(e,a,t,r){var n={cards:{}};localStorage.collection&&(n=JSON.parse(localStorage.collection)),n.cards[e.id]&&n.cards[e.id][a.set_code]&&n.cards[e.id][a.set_code][t]&&(n.cards[e.id][a.set_code][t]-=r,n.cards[e.id][a.set_code][t]<=0&&(delete n.cards[e.id][a.set_code][t],0===Object.keys(n.cards[e.id][a.set_code]).length&&delete n.cards[e.id][a.set_code],0===Object.keys(n.cards[e.id]).length&&delete n.cards[e.id])),localStorage.collection=JSON.stringify(n)}},{key:"showCardDetails",value:function(e){this.setState({cardDetails:e})}},{key:"hideCardDetails",value:function(){this.showCardDetails(null)}},{key:"search",value:function(e){document.getElementById("search-box").value=e;var a,t=this.state.cardList,r=Object(o.a)(t);if((e=e.trim().toLowerCase()).startsWith("set:")){var n=e.replace("set:","").trim();a=r.filter(function(e){return void 0!==e.card_sets&&void 0!==e.card_sets.find(function(e){return e.set_name.toLowerCase()===n})})}else if(e.startsWith("type:")){var s=e.replace("type:","").trim();a=r.filter(function(e){return e.race.toLowerCase()===s})}else if(e.startsWith("archetype:")){var c=e.replace("archetype:","").trim();a=r.filter(function(e){return void 0!==e.archetype&&e.archetype.toLowerCase()===c})}else a=r.filter(function(a){return a.name.toLowerCase().includes(e)});if(this.state.hideUnowned&&localStorage.collection){var l=JSON.parse(localStorage.collection);a=r.filter(function(e){return void 0!==l.cards[e.id]})}switch(this.state.sortMode){case"number":if(e.startsWith("set:")){var i=e.replace("set:","").trim();a.sort(function(e,a){return e.card_sets.find(function(e){return e.set_name.toLowerCase()===i}).set_code>a.card_sets.find(function(e){return e.set_name.toLowerCase()===i}).set_code})}else a.sort(function(e,a){return e.id>a.id});break;case"a-z":a.sort(function(e,a){return e.name>a.name});break;case"z-a":a.sort(function(e,a){return e.name<a.name});break;case"level":a.sort(function(e,a){return(void 0===e.level)-(void 0===a.level)||a.level>e.level||-(a.level<e.level)});break;case"atk":a.sort(function(e,a){return(void 0===e.atk)-(void 0===a.atk)||a.atk>e.atk||-(a.atk<e.atk)});break;case"def":a.sort(function(e,a){return(void 0===e.def)-(void 0===a.def)||a.def>e.def||-(a.def<e.def)});break;case"price":a.sort(function(e,a){var t=void 0!==e.card_sets?parseFloat(Object(o.a)(e.card_sets).sort(function(e,a){return parseFloat(e.set_price)<parseFloat(a.set_price)})[0].set_price):0,r=void 0!==a.card_sets?parseFloat(Object(o.a)(a.card_sets).sort(function(e,a){return parseFloat(e.set_price)<parseFloat(a.set_price)})[0].set_price):0;return(void 0===e.card_sets)-(void 0===a.card_sets)||r>t||-(r<t)})}this.setState({results:a,cardDetails:null,page:0})}},{key:"nextPage",value:function(){this.state.page<Math.ceil(this.state.results.length/this.state.resultsPerPage)-1&&this.setState({page:this.state.page+1})}},{key:"prevPage",value:function(){this.state.page>0&&this.setState({page:this.state.page-1})}},{key:"firstPage",value:function(){this.setState({page:0})}},{key:"lastPage",value:function(){this.setState({page:Math.ceil(this.state.results.length/this.state.resultsPerPage)-1})}},{key:"render",value:function(){var e,a;if(null!=this.state.cardDetails)e=n.a.createElement(w,{card:this.state.cardDetails,search:this.search,addCardToCollection:this.addCardToCollection,removeCardFromCollection:this.removeCardFromCollection});else if(null!=this.state.cardList){var t=this.state.page,r=this.state.results,s=this.state.resultsPerPage,c=r.slice(t*s,(t+1)*s);e=n.a.createElement(C,{resultsPerPage:s,pageResults:c,showCardDetails:this.showCardDetails}),a=n.a.createElement(E,{page:t,resultsCount:this.state.results.length,pageResultsCount:c.length,resultsPerPage:s,nextPage:this.nextPage,prevPage:this.prevPage,lastPage:this.lastPage,firstPage:this.firstPage})}else e=n.a.createElement("div",{className:"loading-icon"},n.a.createElement("div",{className:"circle"}));return n.a.createElement("div",{className:"app"},n.a.createElement("div",{id:"background"}),n.a.createElement(b,{search:this.search,sortMode:this.state.sortMode,onChangeSortMode:this.onChangeSortMode,hideUnowned:this.state.hideUnowned,onChangeHideUnowned:this.onChangeHideUnowned,cardDetails:this.state.cardDetails,hideCardDetails:this.hideCardDetails}),e,a)}}]),a}(r.Component));c.a.render(n.a.createElement(O,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.676765b4.chunk.js.map